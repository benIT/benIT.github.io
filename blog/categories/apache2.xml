<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[benIT&#039;s notebook]]></title>
    <link href="/blog/categories/apache2.xml" rel="self"/>
    <link href="/"/>
    <updated>2019-06-24T14:54:40+00:00</updated>
    <id>/</id>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[Apache2 survival sheet]]></title>
            <link href="/blog/2017/10/02/apache2-survival-sheet"/>
            <updated>2017-10-02T00:00:00+00:00</updated>
            <id>/blog/2017/10/02/apache2-survival-sheet</id>
            <content type="html"><![CDATA[<p>In this post, the most common Apache2 commands that I use are listed. This is not really interesting but I'm bored of asking google for it every week!</p>

<h2 id="virtual-host">Virtual host</h2>

<h2 id="enable-a-vhost">Enable a vhost</h2>

<pre><code>a2ensite video-app
</code></pre>

<h2 id="disable--a-vhost">Disable  a vhost</h2>

<pre><code>a2dissite video-app
</code></pre>

<h2 id="modules">Modules</h2>

<h3 id="list-enables%2Floaded-modules">List enables/loaded modules</h3>

<pre><code>apache2ctl -M
</code></pre>

<h3 id="enable-a-module">Enable a module</h3>

<pre><code>sudo a2enmod rewrite
</code></pre>

<h2 id="server-status">Server status</h2>

<pre><code>apache2ctl status
</code></pre>

<h2 id="securing-a-vhost-with-a-basic-authentication">Securing a vhost with a basic authentication</h2>

<p>install utils:</p>

<pre><code>apt-get install apache2 apache2-utils
</code></pre>

<p>Generate password for user ben:</p>

<pre><code>htpasswd -c /etc/apache2/.htpasswd ben

cat /etc/apache2/.htpasswd
</code></pre>

<p>output:</p>

<pre><code> ben:$apr1$ULdWsbYp$eawlgBJZvKhr7L8V1NWGD/
</code></pre>

<p>Secure your vhost:</p>

<pre><code>    LISTEN 10000 
    &lt;VirtualHost *:10000&gt; 
            ServerAdmin webmaster@localhost
            DocumentRoot /home/pi/projects/videoapp/web/
             &lt;Directory /home/pi/projects/videoapp&gt;
                    Options Indexes FollowSymLinks
                    AllowOverride All
                    AuthType Basic
                    AuthName "Restricted Content"
                    AuthUserFile /etc/apache2/.htpasswd
                    Require valid-user
            &lt;/Directory&gt;
            ErrorLog /error-videoapp.log
            CustomLog /access-videoapp.log combined
    &lt;/VirtualHost&gt;
</code></pre>
]]></content>
        </entry>
    </feed>