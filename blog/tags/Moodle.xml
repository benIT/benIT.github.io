<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[benIT]]></title>
    <link href="/blog/tags/Moodle.xml" rel="self"/>
    <link href="/"/>
    <updated>2018-04-27T15:07:24+02:00</updated>
    <id>/</id>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[Setting up angularjs and chartjs in Moodle 3.X]]></title>
            <link href="/blog/2017/04/18/setting-up-angular-in moodle-3"/>
            <updated>2017-04-18T00:00:00+02:00</updated>
            <id>/blog/2017/04/18/setting-up-angular-in moodle-3</id>
            <content type="html"><![CDATA[<p>I was wondering how can I integrate angularjs to my moodle plugin. 
Moodle isn't designed as frontend/backend, so how can I integrate angularjs with smashing moodle?
I create a POOC, let's checkout that:</p>

<ul>
<li><p>Create a custom template page : <a href="https://github.com/benIT/moodle_report_angularjspooc/blob/master/templates/reportindex_page.mustache">the custom template</a> will be only used to put <code>ng-app</code> directive</p></li>
<li><p>Load <a href="https://github.com/benIT/moodle_report_angularjspooc/blob/master/index.php#L26">all javascript</a> in the template page</p></li>
<li><p>Write PHP AJAX or Moodle Webservice to expose data:
In my case, I didn't care about exposing webservices so I choose to <a href="https://github.com/benIT/moodle_report_angularjspooc/blob/master/ajax.php">write a simple ajax page</a>.</p></li>
<li><p>Write your <a href="https://github.com/benIT/moodle_report_angularjspooc/tree/master/angular">angularjs code</a></p></li>
<li><p>Enjoy angularjs on moodle ! In this cas, we will use this to generate beautiful reports with Charts.js</p>

<p><strong><a href="https://github.com/benIT/moodle_report_angularjspooc">The Repository is available at github.</a></strong></p></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Filter functionality in Moodle Configurable Reports]]></title>
            <link href="/blog/2017/04/11/moodle-configurable-reports-filters"/>
            <updated>2017-04-11T00:00:00+02:00</updated>
            <id>/blog/2017/04/11/moodle-configurable-reports-filters</id>
            <content type="html"><![CDATA[<p>This post describes the filter functionality in Moodle Configurable Reports.</p>

<h2 id="create-the-sql-query">Create the sql query</h2>

<pre><code>    SELECT *
    from prefix_course
    WHERE
    1=1
    %%FILTER_COURSES:prefix_course.id%%
    %%FILTER_SEARCHTEXT:prefix_course.fullname:~%%
</code></pre>

<h2 id="add-filter-fields">Add filter fields</h2>

<p>Available filters are located in: <code>components/filters/</code> of Configurable Reports.</p>

<p>In the <code>filters</code> tab:</p>

<ul>
<li><p>add <code>Courses</code> that will refer to <code>%%FILTER_COURSES:prefix_course.id%%</code></p></li>
<li><p>add <code>Search text</code> that will refer to <code>%%FILTER_SEARCHTEXT:prefix_course.fullname:~%%</code></p></li>
</ul>

<h3 id="available-variables">Available variables</h3>

<pre><code>%%CATEGORYID%%
%%COURSEID%%
%%CURRENTUSER%%
%%DEBUG%%
%%FILTER_VAR%%
%%STARTTIME%%’,’%%ENDTIME%%
%%USERID%%
%%WWWROOT%%
</code></pre>

<h3 id="available-filters">Available filters</h3>

<pre><code>%%FILTER_CATEGORIES:
%%FILTER_COURSEMODULEID:
%%FILTER_COURSEMODULEFIELDS:
%%FILTER_COURSEMODULE:
%%FILTER_COURSES:
%%FILTER_COURSEENROLLEDSTUDENTS:
%%FILTER_USERS:
%%FILTER_ROLE:
%%FILTER_SEARCHTEXT:
%%FILTER_SEMESTER:
%%FILTER_STARTTIME:
%%FILTER_ENDTIME:
%%FILTER_SUBCATEGORIES:
%%FILTER_COURSEUSER:
%%FILTER_SYSTEMUSER:
%%FILTER_YEARHEBREW:
%%FILTER_YEARNUMERIC:
</code></pre>

<h2 id="result">Result</h2>

<p>In the <code>view report</code> tab, you will get the 2 filters!</p>
]]></content>
        </entry>
    </feed>