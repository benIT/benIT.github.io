<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[benIT]]></title>
    <link href="/atom.xml" rel="self"/>
    <link href="/"/>
    <updated>2017-09-28T13:00:01+00:00</updated>
    <id>/</id>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[PostgreSQL survival sheet]]></title>
            <link href="/blog/2017/09/28/postgresql-survival-sheet"/>
            <updated>2017-09-28T00:00:00+00:00</updated>
            <id>/blog/2017/09/28/postgresql-survival-sheet</id>
            <content type="html"><![CDATA[<p>In this post, the most common pgsql commands that I use are listed. This is not really interesting but I'm bored of asking google for it every week!</p>

<h2 id="start-psql-command-line-utility">Start psql command line utility</h2>

<p>Using the <code>postgres</code> superuser:</p>

<pre><code>sudo -u postgres psql
</code></pre>

<h2 id="exit">Exit</h2>

<pre><code>postgres=# \q
</code></pre>

<h2 id="list-databases">List databases</h2>

<pre><code>postgres=# \l+
</code></pre>

<p>output:</p>

<pre><code>                                                                    List of databases
    Name    |  Owner   | Encoding |   Collate   |    Ctype    |   Access privileges   |  Size   | Tablespace |                Description                 
------------+----------+----------+-------------+-------------+-----------------------+---------+------------+--------------------------------------------
 clipbucket | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 |                       | 6532 kB | pg_default | 
 moodle     | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 |                       | 6532 kB | pg_default | 
 postgres   | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 |                       | 6532 kB | pg_default | default administrative connection database
 template0  | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | =c/postgres          +| 6409 kB | pg_default | unmodifiable empty database
            |          |          |             |             | postgres=CTc/postgres |         |            | 
 template1  | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | =c/postgres          +| 6532 kB | pg_default | default template for new databases
            |          |          |             |             | postgres=CTc/postgres |         |            | 
 testdb     | testdb   | UTF8     | en_US.UTF-8 | en_US.UTF-8 |                       | 6724 kB | pg_default | 
 videoapp   | videoapp | UTF8     | en_US.UTF-8 | en_US.UTF-8 |                       | 6724 kB | pg_default | 
(7 rows)
</code></pre>

<h2 id="drop-database">Drop database</h2>

<pre><code>postgres=# DROP DATABASE testdeploy;
</code></pre>

<p>output:</p>

<pre><code>postgres=# DROP DATABASE
</code></pre>

<h2 id="list-users">List users</h2>

<pre><code>postgres=# \du+
</code></pre>

<p>output :</p>

<pre><code>                                   List of roles
   Role name    |                   Attributes                   | Member of | Description 
----------------+------------------------------------------------+-----------+-------------
 clipbucket     |                                                | {}        | 
 manuel         | Create DB                                      | {}        | 
 moodle         |                                                | {}        | 
 postgres       | Superuser, Create role, Create DB, Replication | {}        | 
 testdb         | Create DB                                      | {}        | 
 testdeploy     | Create DB                                      | {}        | 
 testdeploytest | Create DB                                      | {}        | 
 videoapp       | Create DB                                      | {}        | 
</code></pre>

<h2 id="drop-user">Drop user</h2>

<pre><code>postgres=# DROP USER testdeploy;
</code></pre>

<p>output:</p>

<pre><code>DROP ROLE
</code></pre>

<h2 id="create-user">Create user</h2>

<pre><code>postgres=# CREATE USER videoapp WITH PASSWORD 'videoapp' CREATEDB ;
</code></pre>

<p>output:</p>

<pre><code>CREATE ROLE
</code></pre>

<h2 id="list-db-tables">List DB tables</h2>

<h3 id="switch-user">Switch user</h3>

<pre><code>postgres=# \c videoapp
</code></pre>

<p>output:</p>

<pre><code>You are now connected to database "videoapp" as user "postgres".
</code></pre>

<h3 id="list-tables">List tables</h3>

<pre><code>videoapp=# \dt+
</code></pre>

<p>output:</p>

<pre><code>                         List of relations
 Schema |    Name     | Type  |  Owner   |    Size    | Description 
--------+-------------+-------+----------+------------+-------------
 public | fos_user    | table | videoapp | 8192 bytes | 
 public | tag         | table | videoapp | 0 bytes    | 
 public | video       | table | videoapp | 8192 bytes | 
 public | videos_tags | table | videoapp | 0 bytes    | 
(4 rows)
</code></pre>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Vagrant share ssh agent between host and guests]]></title>
            <link href="/blog/2017/07/10/vagrant-share-ssh-agent"/>
            <updated>2017-07-10T00:00:00+00:00</updated>
            <id>/blog/2017/07/10/vagrant-share-ssh-agent</id>
            <content type="html"><![CDATA[<h2 id="why%3F">Why?</h2>

<p>In this way you can share from your host multiple ssh keys without copy/paste its on each VM. All ssh key are centralised and that's better when working with a lot of VM.</p>

<h2 id="how-to%3F">How to?</h2>

<h3 id="on-the-host-side">On the host side</h3>

<p>In <code>~/.ssh/config</code>:</p>

<pre><code>#share ssh agentwith VM
Host *
 ForwardAgent yes 
</code></pre>

<h3 id="on-the-guest-side">On the guest side</h3>

<p>In <code>Vagrantfile</code>:</p>

<pre><code>config.ssh.forward_agent = true
</code></pre>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Cool open source software for home]]></title>
            <link href="/blog/2017/07/07/open-source-list"/>
            <updated>2017-07-07T00:00:00+00:00</updated>
            <id>/blog/2017/07/07/open-source-list</id>
            <content type="html"><![CDATA[<p>I spent many years to find a full and cool stack of open source software for home. Here is my personal open source software list, that I really enjoy.</p>

<h2 id="os">OS</h2>

<p>After testing several linux (fedora, opensuse, debian, ubuntu ...), I think the easiest for home are debian based OS:</p>

<ul>
<li><a href="https://www.debian.org/index.fr.html">linux debian</a>: robust</li>
<li><a href="https://www.linuxmint.com/">linux mint</a>: like ubuntu without the commercial taste</li>
</ul>

<h2 id="system">System</h2>

<ul>
<li><a href="http://gparted.org/">gparted</a>: partition made easy</li>
<li><a href="http://clonezilla.org/">clonezilla</a>: restore your OS</li>
</ul>

<h2 id="privacy">Privacy</h2>

<ul>
<li><a href="https://www.veracrypt.fr/en/Home.html">veracrypt</a>: awesome. No more USB key or sensitive data without that </li>
<li><a href="http://keepass.info/">keepass</a>: cannot live without that</li>
</ul>

<h2 id="web-browser">Web browser</h2>

<ul>
<li><a href="https://www.mozilla.org/fr/firefox">firefox</a>: a must have</li>
<li><a href="https://www.chromium.org/Home">chromium</a>: powerfull</li>
</ul>

<h2 id="filesharing">Filesharing</h2>

<ul>
<li><a href="https://nextcloud.com/">nextcloud</a>: bye bye dropbox</li>
<li>rsync: backup your data at a friend house</li>
<li>ssh: connect to a friend house</li>
</ul>

<h2 id="gps">GPS</h2>

<ul>
<li><a href="https://sourceforge.net/projects/viking/?SetFreedomCookie">viking</a>: awesome for GPS tracking</li>
</ul>

<h2 id="office">Office</h2>

<ul>
<li><a href="https://fr.libreoffice.org/">libreoffice</a>: for documents, spreadsheets</li>
<li><a href="https://www.mozilla.org/fr/thunderbird/">thunderbird</a>: for mailing and RSS</li>
</ul>

<h2 id="text-editor">Text editor</h2>

<ul>
<li><a href="http://www.vim.org/download.php">vim</a>: you must know that stuff</li>
<li><a href="https://atom.io/">atom</a>: bye bye sublime text</li>
</ul>

<h2 id="image-editor">Image editor</h2>

<ul>
<li><a href="https://pinta-project.com/pintaproject/pinta/">pinta</a>: for simple editing</li>
<li><a href="https://www.gimp.org/fr/">gimp</a>: for complex editing</li>
</ul>

<h2 id="multimedia">Multimedia</h2>

<ul>
<li><a href="https://www.videolan.org/vlc/index.fr.html">vlc</a>: this stuff reads and streams everything</li>
</ul>

<h2 id="website">Website</h2>

<ul>
<li><a href="https://fr.wordpress.com/">wordpress</a>: cool for associations website</li>
<li><a href="https://sculpin.io/">sculpin</a>: cool for static content.</li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Installing Nextcloud on RPI device]]></title>
            <link href="/blog/2017/07/04/rpi-nexcloud"/>
            <updated>2017-07-04T00:00:00+00:00</updated>
            <id>/blog/2017/07/04/rpi-nexcloud</id>
            <content type="html"><![CDATA[<h2 id="install-raspbian">Install Raspbian</h2>

<h3 id="install-os">Install OS</h3>

<ul>
<li><a href="https://www.raspberrypi.org/downloads/raspbian/">download Raspbian</a></li>
<li><a href="/blog/2017/06/12/create-a-debian-iso-live-usb-drive">burn it to the RPI SD card</a></li>
</ul>

<h3 id="basic-configuration">Basic configuration</h3>

<ul>
<li>enable SSH: <code>sudo raspi-config</code> > <code>Interfacing Options</code> > <code>SSH</code></li>
<li>change default password running : <code>passwd</code></li>
<li>change keyboard layout if needed</li>
</ul>

<h2 id="install-nextcloud">Install Nextcloud</h2>

<h3 id="nextcloud-stack">Nextcloud Stack</h3>

<p>The following script will install the full stack. Run it as follow:</p>

<pre><code>    chmod +x nextcloud.sh
    ./nextcloud.sh
</code></pre>

<p>Provisioning script from github:</p>

<script src="https://gist.github.com/benIT/1545b4ccf883d41be9b0cdd97e043c2f.js"></script>

<h3 id="tuning">Tuning</h3>

<p>Check settings here <code>https://nextcloud.local/index.php/settings/admin/</code>:</p>

<h4 id="enable-php7.0-opcache">Enable PHP7.0 opcache</h4>

<p>Add this in <code>/etc/php/7.0/apache2/php.ini</code>:</p>

<pre><code>    opcache.enable=1
    opcache.enable_cli=1
    opcache.interned_strings_buffer=8
    opcache.max_accelerated_files=10000
    opcache.memory_consumption=128
    opcache.save_comments=1
    opcache.revalidate_freq=1
</code></pre>

<h4 id="php7.0-apcu">PHP7.0 apcu</h4>

<pre><code>    sudo apt-get install php7.0-apcu -y
</code></pre>

<p>Check this file exists:</p>

<pre><code>    cat  /etc/php/7.0/mods-available/apcu.ini
</code></pre>

<p>Finally, add this in <code>nextcloud/config/config.php</code>:</p>

<pre><code>    'memcache.local' =&gt; '\OC\Memcache\APCu',
</code></pre>

<h2 id="usb-drive">USB drive</h2>

<p>In this case, I have an usb external hard drive. I need to <a href="https://kwilson.io/blog/force-your-raspberry-pi-to-mount-an-external-usb-drive-every-time-it-starts-up/">fix it mount point</a> to be always the location in order to configure it in Nextcloud.</p>

<p>Edit  <code>/etc/fstab</code>:</p>

<pre><code>/DEV/SDA1       /MEDIA/WESTERN-DIGITAL-1-TO     EXT4    DEFAULTS        0       0
sudo chown -R root:www-data /media/western-digital-1-to/
chmod g+rwx /media/western-digital-1-to/
</code></pre>

<h2 id="nextcloud-trusted-domains">Nextcloud trusted domains</h2>

<p>Edit <code>trusted_domains</code> settings in <code>/var/www/nextcloud/config</code> if needed.</p>

<h2 id="enjoy">Enjoy</h2>

<p>That was it! Nextcloud if now fully configured on your RPI, enjoy!</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[First steps with Veracrypt]]></title>
            <link href="/blog/2017/06/19/veracrypt-first-steps"/>
            <updated>2017-06-19T00:00:00+00:00</updated>
            <id>/blog/2017/06/19/veracrypt-first-steps</id>
            <content type="html"><![CDATA[<h2 id="why-vercrypt%3F">Why Vercrypt?</h2>

<p>It's :</p>

<ul>
<li><a href="https://www.nextinpact.com/news/91703-veracrypt-comment-chiffrer-et-cacher-fichiers-disque-dur-externe-ou-clef-usb.htm">secure</a> (based on truecrypt audit and security fix)</li>
<li><a href="https://github.com/veracrypt/VeraCrypt">open source</a></li>
<li><a href="https://www.nextinpact.com/news/91703-veracrypt-comment-chiffrer-et-cacher-fichiers-disque-dur-externe-ou-clef-usb.htm">french</a></li>
</ul>

<h2 id="download">Download</h2>

<ul>
<li><a href="https://veracrypt.codeplex.com/wikipage?title=Downloads#Title">download from official site</a></li>
</ul>

<h2 id="create-a-container-based-on-keyfile-authentication">Create a container based on keyfile authentication</h2>

<p>In this example, my container is called <code>animals</code> and has been created from Veracrypt GUI. 
This container has no password, it based on key system. The key has been generated from Veracrypt GUI.</p>

<ul>
<li>The container is called <code>animals</code></li>
<li>The key is called <code>animals-key</code></li>
</ul>

<h2 id="add-files-to-container">Add files to container</h2>

<pre><code>    cd veracrypt
    veracrypt animals --keyfiles=animals-key --password=''
    tar -cvzf animals.tgz /home/ben/Images/animals-wallpapers
    cp animals.tgz /media/veracrypt1/
    veracrypt -d
</code></pre>

<h2 id="let%27s-backup-it-on-a-friend-rpi%21">Let's backup it on a friend RPI!</h2>

<pre><code>    rsync -avzh ben@XXX.XXX.XXX.XXX:/home/ben/veracrypt /home/ben/veracrypt        
</code></pre>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Moodle migration procedure]]></title>
            <link href="/blog/2017/06/15/moodle-migration-procedure."/>
            <updated>2017-06-15T00:00:00+00:00</updated>
            <id>/blog/2017/06/15/moodle-migration-procedure.</id>
            <content type="html"><![CDATA[<p>In this post is described how to export you moodle app and import it on another environment.</p>

<h2 id="export-from-the-source-database">Export from the source database</h2>

<pre><code>     sudo -u postgres pg_dump moodle &gt; /vagrant/shared/dump/moodle-database-exported.sql
</code></pre>

<h2 id="migrate-database">Migrate database</h2>

<p>Here I sustitute the string 'moodle-dev' by 'moodle-deploy' from 'moodle-database-exported.sql' and write it to 'database-to-import.sql':</p>

<pre><code>     sed 's/moodle-dev/moodle-deploy/g' moodle-database-exported.sql &gt; database-to-import.sql
</code></pre>

<h2 id="let%27s-tar-db-and-filesystem">Let's tar db and filesystem</h2>

<pre><code>    tar -cvzf moodle-to-import.tgz database-to-import.sql moodle moodledata/
    exit
    mv ~/vagrant/vagrant-moodle/shared/moodle-to-import.tgz ~/vagrant/vagrant-moodle-deploy/shared/
</code></pre>

<h2 id="cleanup-the-target-machine">Cleanup the target machine</h2>

<p>Connect on the target machine. here target database is also named 'moodle':</p>

<pre><code>     cd /vagrant/shared
     rm -rf moodle moodledata/
     sudo -u postgres psql -c "DROP DATABASE moodle"
     sudo -u postgres psql -c "CREATE DATABASE moodle"
</code></pre>

<h2 id="import-db-and-filesystem-on-the-target-database">Import db and filesystem on the target database</h2>

<pre><code>    sudo tar -xzf moodle-to-import.tgz
    sudo -u postgres psql --set ON_ERROR_STOP=on moodle &lt; database-to-import.sql
</code></pre>

<h2 id="migrate-the-config.php-file">Migrate the config.php file</h2>

<pre><code>    sed -i 's/moodle-dev/moodle-deploy/g' moodle/config.php
</code></pre>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Configure xdebug with phpstorm with a vagrant box]]></title>
            <link href="/blog/2017/06/15/setup-xdebug-phpstorm-vagrant"/>
            <updated>2017-06-15T00:00:00+00:00</updated>
            <id>/blog/2017/06/15/setup-xdebug-phpstorm-vagrant</id>
            <content type="html"><![CDATA[<p>After loosing a few hours reconfiguring xdebug, phpstorm and vagrant, I found this <a href="https://www.theodo.fr/blog/2016/08/configure-xdebug-phpstorm-vagrant/">great ressource</a>. Here are my notes about it:</p>

<p><em>phpstorm is installed on the hostmachine and the app is running in a vagrant box.</em></p>

<h2 id="vagrant-guest-machine-setup">Vagrant guest machine setup</h2>

<pre><code>sudo apt-get install php5-xdebug
</code></pre>

<p>Edit <code>/etc/php5/mods-available/xdebug.ini</code> :</p>

<pre><code>xdebug.remote_enable=true
xdebug.remote_connect_back=true
xdebug.idekey=MY_AWESOME_KEY
</code></pre>

<h2 id="phpstorm-setup">Phpstorm setup</h2>

<h3 id="setup-%27php-remote-debug%27-configuration">Setup 'php remote debug' configuration</h3>

<p><img src="/images/xdebug/storm-xdebug-vagrant-1-remote-debug-conf.png" alt="screenshot" /></p>

<h3 id="setup-%27server%27-configuration">Setup 'server' configuration</h3>

<p><img src="/images/xdebug/storm-xdebug-vagrant-2-server-conf.png" alt="screenshot" /></p>

<h2 id="browser-plugin">Browser plugin</h2>

<ul>
<li>install a browser <a href="https://addons.mozilla.org/en-US/firefox/addon/the-easiest-xdebug/">plugin such as this one</a></li>
<li>configure the ide key, here: <code>MY_AWESOME_KEY</code></li>
<li>it is also possible to use <a href="https://www.jetbrains.com/phpstorm/marklets/">bookmarklets</a> </li>
</ul>

<h2 id="enjoy%21">Enjoy!</h2>

<ul>
<li>Puts breakpoints </li>
<li>Enable cookie using web browser extension or bookmarklet
<img src="/images/xdebug/storm-xdebug-vagrant-3-breakpoints.png" alt="screenshot" /></li>
<li>Click on the bug icon called 'debug mode'</li>
<li>You can now enjoy the debugger (inspect variables, control the execution flow)
<img src="/images/xdebug/storm-xdebug-vagrant-4-debugger-running.png" alt="screenshot" /></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Install a nextcloud box with NextCloudPi]]></title>
            <link href="/blog/2017/06/14/install-a-nextcloudbox"/>
            <updated>2017-06-14T00:00:00+00:00</updated>
            <id>/blog/2017/06/14/install-a-nextcloudbox</id>
            <content type="html"><![CDATA[<p>Here is exposed steps to setup a nextcloud box on RPI <a href="https://ownyourbits.com/2017/02/13/nextcloud-ready-raspberry-pi-image/">consuming the nextCloudPi image</a> . enjoy ;)</p>

<h2 id="nextcloudbox-setup">Nextcloudbox setup</h2>

<ul>
<li><p><a href="/blog/2017/06/12/create-a-debian-iso-live-usb-drive">burn a usb drive</a>. <a href="https://ownyourbits.com/2017/02/13/nextcloud-ready-raspberry-pi-image/">NextCloudPi</a> offers a fully configured box.</p></li>
<li><p>insert sd card and boot. Default credentials are: <code>pi</code>/<code>raspberry</code></p></li>
<li><p><a href="https://raspberrypi.stackexchange.com/questions/10060/raspbian-keyboard-layout">change keyboard layout</a> if needed before getting crazy:</p>

<ul>
<li><p>edit the <code>XKBLAYOUT="fr"</code> directive in <code>/etc/default/keyboard</code>:</p></li>
<li><p>reboot: <code>sudo reboot now</code></p></li>
</ul></li>
<li><p>enable usb device automount:</p>

<pre><code>sudo nextcloudpi-config
</code></pre>

<p>then: <code>nc-automount</code> > <code>active=yes</code></p></li>
</ul>

<p>Wait a few seconds and check your drive is mounted using:</p>

<pre><code>    sudo fdisk -l
</code></pre>

<h2 id="test-it%21">Test it!</h2>

<h3 id="locally">Locally</h3>

<ul>
<li>In order to test it you can <a href="/blog/2017/06/15/connect-to-raspberry-over-ethernet">take a look about connecting to pi over ethernet</a>. <em>That's pretty nice to connect to RPI with a simple ethernet cable.</em></li>
</ul>

<h3 id="behind-a-router%2Finternet-connection">Behind a router/internet connection</h3>

<ul>
<li><p>Plug RPI to your router</p></li>
<li><p>Go to the admin panel</p></li>
<li><p>Perform port redirection to the RPI: external 443/internal 443.</p></li>
</ul>

<h3 id="it-works%2C-yeah%21-beer-time%21">It works, yeah! beer time!</h3>

<p>Enter the RPI @IP in your web browser (<code>https://10.42.0.100</code> in my case), after adding a security exception because of self signed certificate, you should see:</p>

<p><img src="/images/nextcloud/nextcloud-login.png" alt="screenshot" /></p>

<p><em>credentials: admin/ownyourbits</em></p>

<h2 id="external-storage-setup">External storage setup</h2>

<ul>
<li><p>format your usb-drive as <code>ext4</code> and create a <code>msdos</code> partition table if necessary using gparted. The partition must be a linux partition kind to support linux right management.</p></li>
<li><p>change nc-database to the flashdrive: <code>sudo nextcloudpi-config</code> > <code>nc-database</code></p></li>
<li><p>change nc-datadir to the flashdrive using: <code>sudo nextcloudpi-config</code> > <code>nc-datadir</code></p></li>
</ul>

<p>If everything goes well, you should see that data and database are stored in <code>/media/USBdrive/ncdata</code> and <code>/media/USBdrive/ncdatabase</code></p>

<h2 id="enable-and-set-up-wifi">Enable and set up WIFI</h2>

<p>You can enable and select your WIFI connection in:
        <code>sudo nextcloudpi-config</code> > <code>nc-wifi</code> > <code>ACTIVE=YES</code></p>

<h2 id="enable-ssh">Enable SSH</h2>

<p>SSH is not enabled by default, enable it in: <code>sudo raspi-config</code> > <code>5 Interfacing Options</code> > <code>P2 SSH</code>
You can now ssh the rpi machine:</p>

<pre><code>    ssh pi@10.42.0.100
</code></pre>

<p>Default rpi credentials are <em>pi/raspberry</em>, CHANGE IT by running: <code>passwd</code></p>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="trusted-domains-issue">Trusted domains issue</h3>

<p>Fix it in editing <code>nexcloud/config/config.php</code>:</p>

<pre><code>    ...
    'trusted_domains' =&gt;
    array(
        ...
        3 =&gt; '10.42.0.100'
    )
    ...
</code></pre>

<p><img src="/images/nextcloud/nextcloud-trusted-domains.png" alt="screenshot" /></p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Connect to raspberry pi from linux host using a simple ethernet cable]]></title>
            <link href="/blog/2017/06/14/connect-to-raspberry-over-ethernet"/>
            <updated>2017-06-14T00:00:00+00:00</updated>
            <id>/blog/2017/06/14/connect-to-raspberry-over-ethernet</id>
            <content type="html"><![CDATA[<p>This post describes how to connect a RPI to a linux station with a simple ethernet cable.</p>

<h2 id="on-debian-host-machine">On debian host machine</h2>

<ul>
<li><p>run <code>gnome-nettool</code>, change the edit the wired connection and edit IPv4 settings.</p>

<ul>
<li><p>Change the <code>DHCP</code> default method 
<img src="/images/rpi/ethernet-connection/wired-dhcp.png" alt="network conf" /></p>

<p>to <code>shared with other computer</code>:
<img src="/images/rpi/ethernet-connection/wired-shared.png" alt="network conf" /></p></li>
</ul></li>
<li><p>power off the RPI</p>

<pre><code>sudo halt
</code></pre></li>
<li><p>mount the RPI SD card to the host PC</p></li>
<li><p>identify the PC eth0 @IP adress:</p>

<pre><code>sudo ifconfig
</code></pre></li>
</ul>

<p>In my case: <code>10.42.0.1</code></p>

<ul>
<li><p>edit the <code>cmdline.txt</code> located on the <code>boot</code> partition file adding:</p>

<pre><code>ip=10.42.0.100
</code></pre></li>
<li><p><em>The pi and the debian PC must on the same subnetwork ie: <code>10.42.0.XXX</code></em></p></li>
<li><p>insert SD card and boot RPI</p></li>
<li><p>check the connectivity:</p>

<pre><code>ping 169.254.6.100
--- 10.42.0.100 ping statistics ---
6 packets transmitted, 6 received, 0% packet loss, time 4999ms
rtt min/avg/max/mdev = 0.326/0.351/0.392/0.028 ms
</code></pre></li>
</ul>

<h2 id="on-the-rpi-machine">On the RPI machine</h2>

<ul>
<li><p>enable ssh:</p>

<pre><code>sudo raspi-config 
</code></pre></li>
<li><p><code>Interfacing Options</code> then <code>P2 SSH</code></p></li>
</ul>

<h2 id="ssh-it-%21">SSH IT !</h2>

<p>From the debian pc:</p>

<pre><code>ssh pi@169.254.6.100
</code></pre>

<p>That was it! You are now connected over SSH on the RPI:</p>

<pre><code>The authenticity of host '10.42.0.100 (10.42.0.100)' can't be established.
ECDSA key fingerprint is ca:cc:0c:80:ab:1a:b4:a9:4b:2b:a8:1a:fa:b4:7e:23.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '10.42.0.100' (ECDSA) to the list of known hosts.
pi@10.42.0.100's password: 



NextCloudPi v0.12.8 is up to date
Last login: Fri May 26 18:34:10 2017

SSH is enabled and the default password for the 'pi' user has not been changed.
This is a security risk - please login as the 'pi' user and type 'passwd' to set a new password.
pi@raspberrypi:~ $
</code></pre>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Setting up a debian dev machine]]></title>
            <link href="/blog/2017/06/13/setting-up-a-debian-dev-machine"/>
            <updated>2017-06-13T00:00:00+00:00</updated>
            <id>/blog/2017/06/13/setting-up-a-debian-dev-machine</id>
            <content type="html"><![CDATA[<p>Let's put all together to install a debian 8 machine from scratch:</p>

<ul>
<li><a href="/blog/2017/06/12/create-a-debian-iso-live-usb-drive">burn a usb drive</a></li>
<li><a href="/blog/2017/06/12/setting-up-git-with-multiple-accounts">install git</a></li>
<li><a href="/blog/2017/06/12/install-vagrant">install vagrant</a></li>
</ul>
]]></content>
        </entry>
    </feed>